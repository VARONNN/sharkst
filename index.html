<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Çete | FiveM - Varon Crew</title>
  <meta name="description" content="FiveM çete sitesi - üyeler, başvuru formu, duyurular ve yönetim paneli (local)" />
  <style>
    /* Reset */
    *{box-sizing:border-box;margin:0;padding:0}
    :root{ --bg:#071b2e; --card:#0b2740; --accent:#00b4d8; --muted:#8fbcd4; --glass: rgba(255,255,255,0.03); --maxw:1100px; }
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:linear-gradient(180deg,#071026 0%, #061423 100%); color:#e6eef8; padding:28px;}
    .wrap{max-width:var(--maxw);margin:0 auto}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:20px}
    .logo{display:flex;gap:12px;align-items:center}
    .logo .mark{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#ffd166);display:flex;align-items:center;justify-content:center;color:#091024;font-weight:800}
    nav a{color:var(--muted);margin-left:16px;text-decoration:none}
    h1{font-size:28px;margin-bottom:6px}
    p.lead{color:var(--muted);margin-bottom:18px}

    .hero{display:grid;grid-template-columns:1fr 360px;gap:20px;margin-bottom:22px}
    .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.5);}
    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:10px;padding:12px}

    /* Member grid */
    .members{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
    .member{background:var(--glass);padding:12px;border-radius:10px;display:flex;flex-direction:column;align-items:center;text-align:center}
    .avatar{width:96px;height:96px;border-radius:999px;background:linear-gradient(180deg,#074b67,#013248);display:flex;align-items:center;justify-content:center;font-weight:800;color:rgba(255,255,255,0.9);margin-bottom:8px;position:relative;box-shadow:0 6px 18px rgba(3,20,30,0.6);}
    .avatar::after{content:'';position:absolute;left:-6px;right:-6px;bottom:-6px;top:-6px;border-radius:50%;background:conic-gradient(from 180deg at 50% 50%, transparent 0deg, transparent 200deg, rgba(255,255,255,0.06) 200deg);mask:radial-gradient(circle at 50% 40%, transparent 38%, black 39%);}
    .mname{font-weight:700}
    .mt{color:var(--muted);font-size:13px}

    /* Form */
    form input, form textarea, form select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.05);background:transparent;color:inherit;margin-bottom:10px}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;background:var(--accent);color:#0b1020;font-weight:700;text-decoration:none;cursor:pointer;border:none}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    footer{margin-top:22px;color:var(--muted);font-size:13px;text-align:center}

    /* Responsive */
    @media(max-width:900px){
      .hero{grid-template-columns:1fr}
    }
  
    /* Water wave animation */
    @keyframes wave {
      0%{background-position:0 0}
      100%{background-position:1000px 0}
    }
    body{background:linear-gradient(180deg,#052033 0%, #071b2e 100%);}
    .waves::before{content:'';position:fixed;left:0;right:0;top:0;bottom:0;z-index:0;background-image:linear-gradient(180deg, rgba(0,180,216,0.03), transparent 60%), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1600" height="200" viewBox="0 0 1600 200"><path fill="%2300b4d8" fill-opacity="0.03" d="M0 100 C200 0 400 200 600 100 C800 0 1000 200 1200 100 C1400 0 1600 200 1800 100 L1800 200 L0 200 Z"></path></svg>');background-repeat:repeat-x;background-position:0 0;opacity:1;pointer-events:none;animation:wave 30s linear infinite;}
    </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">
        <div class="mark"><svg width="40" height="40" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#00b4d8"/><stop offset="1" stop-color="#006494"/></linearGradient></defs><circle cx="32" cy="32" r="30" fill="url(#g1)"/><path d="M18 38c6-10 30-10 36-18-8 18-18 26-36 18z" fill="#e6f7ff" opacity="0.95"/></svg></div>
        <div>
          <h1>Varon Crew</h1>
          <div style="color:var(--muted);font-size:13px">FiveM Çete Sitesi (Yerel yönetim / demo)</div>
        </div>
      </div>
      <nav>
        <a href="#home">Ana</a>
        <a href="#members">Üyeler</a>
        <a href="#apply">Başvuru</a>
        <a href="#admin">Yönetim</a>
      </nav>
    </header>

    <section id="home" class="hero">
      <div>
        <div class="card">
          <p class="lead">Sunucunuz için hızlı, şık ve hafif çete sitesi. Üyeleri göster, başvuruları topla, duyuruları paylaş — hepsi tek sayfada. Yönetim paneli localStorage ile çalışır (isteğe göre backend'e bağlanır).</p>

          <div class="panel">
            <strong>Duyurular</strong>
            <p id="announce" style="color:var(--muted);margin-top:8px">Hoş geldin! Yeni operasyon planı yakında paylaşılacak.</p>
          </div>

          <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
            <button class="btn" onclick="openApply()">Şimdi Başvur</button>
            <button class="btn ghost" onclick="openAdmin()">Yönetim Paneli</button>
          </div>
        </div>
      </div>

      <aside>
        <div class="card">
          <strong>Sunucu Bilgileri</strong>
          <div style="color:var(--muted);margin-top:8px;font-size:14px">
            <div>IP: <span id="srvip">Henüz ayarlanmadı</span></div>
            <div>Discord: <span id="srvdisc">#sunucu</span></div>
            <div>Üye Sayısı: <span id="count">0</span></div>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <strong>Hızlı Eylemler</strong>
          <div style="margin-top:10px;display:flex;flex-direction:column;gap:8px">
            <button class="btn ghost" onclick="exportMembers()">Üyeleri JSON Olarak Dışa Aktar</button>
            <button class="btn ghost" onclick="clearMembers()">Tüm Üyeleri Sil</button>
          </div>
        </div>
      </aside>
    </section>

    <section id="members" style="margin-top:12px">
      <div class="card">
        <strong>Çete Üyeleri</strong>
        <p style="color:var(--muted);margin-top:8px">Aşağıdaki üyeler demo verisidir. Yönetim panelinden düzenleyebilirsin.</p>
        <div class="members" id="membersGrid" style="margin-top:12px"></div>
      </div>
    </section>

    <section id="apply" style="margin-top:14px">
      <div class="card">
        <strong>Başvuru Formu</strong>
        <p style="color:var(--muted);margin-top:8px">FiveM karakter adın ve neden katılmak istediğini yaz — başvuru local olarak saklanır veya webhook ile gönderilir (opsiyonel).</p>
        <form id="applyForm" onsubmit="return submitApply(event)">
          <input type="text" id="charName" placeholder="Karakter Adı (ör: Varon)" required />
          <input type="text" id="age" placeholder="Yaş (opsiyonel)" />
          <select id="role">
            <option value="member">Üye</option>
            <option value="soldier">Asker</option>
            <option value="driver">Sürücü</option>
            <option value="pilot">Pilot</option>
          </select>
          <textarea id="reason" rows="4" placeholder="Neden katılmak istiyorsun?" required></textarea>
          <input type="text" id="webhook" placeholder="(Opsiyonel) Discord Webhook URL'si - gönderilsin mi?" />
          <div style="display:flex;gap:8px">
            <button class="btn" type="submit">Başvuruyu Gönder</button>
            <button class="btn ghost" type="button" onclick="saveSample()">Demo Üye Ekle</button>
          </div>
        </form>
      </div>
    </section>

    <section id="admin" style="margin-top:14px">
      <div class="card">
        <strong>Yönetim (Local demo)</strong>
        <p style="color:var(--muted);margin-top:8px">Basit admin paneli: üyeleri ekle/kaldır, duyuruyu düzenle, sunucu bilgilerini ata. Admin şifresi: <span style="font-weight:700">admin123</span> (demo).</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
          <input id="adminPass" type="password" placeholder="Admin Şifresi gir" />
          <button class="btn" onclick="loginAdmin()">Giriş</button>
        </div>

        <div id="adminPanel" style="display:none;margin-top:12px">
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <input id="srvIPInput" placeholder="Sunucu IP (ör: 123.45.67.89:30120)" />
            <input id="srvDiscInput" placeholder="Discord davet/kısa link" />
            <button class="btn" onclick="saveServerInfo()">Kaydet</button>
          </div>

          <div style="margin-top:12px">
            <input id="annInput" placeholder="Duyuru yaz" />
            <button class="btn" onclick="saveAnn()">Duyuruyu Güncelle</button>
          </div>

          <div style="margin-top:12px;display:flex;gap:8px">
            <input id="mName" placeholder="Üye ismi" />
            <input id="mRole" placeholder="Rol (member/soldier/driver)" />
            <button class="btn" onclick="addMemberFromAdmin()">Üye Ekle</button>
          </div>
        </div>
      </div>
    </section>

    <footer>
      Bu site demo amaçlıdır. Gerçek sunucu entegrasyonu için backend (Express + DB) eklenebilir.
    </footer>
  </div>

  <script>
    // Basit localStorage tabanlı model
    const STORAGE_KEY = 'varon_crew_members_v1';
    const INFO_KEY = 'varon_crew_info_v1';

    function getMembers(){
      try{
        return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
      }catch(e){return []}
    }
    function saveMembers(list){localStorage.setItem(STORAGE_KEY, JSON.stringify(list)); renderMembers();}

    function renderMembers(){
      const grid = document.getElementById('membersGrid');
      const list = getMembers();
      grid.innerHTML = '';
      document.getElementById('count').innerText = list.length;
      if(list.length===0){grid.innerHTML = '<div style="color:var(--muted);padding:12px">Henüz üye yok. Yönetim panelinden ekle veya "Demo Üye Ekle"ye bas.</div>';return}
      list.forEach((m, idx) => {
        const div = document.createElement('div'); div.className='member';
        div.innerHTML = `
          <div class="avatar">${(m.name||'?').slice(0,1).toUpperCase()}</div>
          <div class="mname">${escapeHtml(m.name||'İsim yok')}</div>
          <div class="mt">${escapeHtml(m.role||'Üye')}</div>
          <div style="margin-top:8px;display:flex;gap:6px">
            <button class="btn ghost" onclick="removeMember(${idx})">Sil</button>
            <button class="btn ghost" onclick="copyMember(${idx})">Kopyala</button>
          </div>
        `;
        grid.appendChild(div);
      });
    }

    function removeMember(i){
      const list = getMembers(); list.splice(i,1); saveMembers(list);
    }
    function copyMember(i){
      const list = getMembers(); navigator.clipboard.writeText(JSON.stringify(list[i])); alert('Üye JSON olarak kopyalandı');
    }

    function submitApply(e){
      e.preventDefault();
      const name = document.getElementById('charName').value.trim();
      const age = document.getElementById('age').value.trim();
      const role = document.getElementById('role').value;
      const reason = document.getElementById('reason').value.trim();
      const webhook = document.getElementById('webhook').value.trim();
      const obj = {name,age,role,reason,ts:new Date().toISOString()};
      // save locally
      const list = getMembers(); list.push(obj); saveMembers(list);
      // optionally send to Discord webhook (if provided)
      if(webhook && webhook.startsWith('http')){
        fetch(webhook, {method:'POST',headers:{'Content-Type':'application/json'},body: JSON.stringify({content: `Yeni başvuru:\nİsim: ${name}\nRol: ${role}\nNeden: ${reason}`})})
          .then(r=>{if(!r.ok) throw new Error('Webhook gönderilemedi'); alert('Başvuru gönderildi ve webhooka iletildi.');})
          .catch(err=>{alert('Başvuru kaydedildi, fakat webhook gönderilemedi.');});
      }else{
        alert('Başvurun kaydedildi!');
      }
      e.target.reset(); renderMembers();
      return false;
    }

    function saveSample(){
      const demo = {name:'Varon', age:'28', role:'leader', reason:'Lider olmak istiyorum', ts:new Date().toISOString()};
      const list = getMembers(); list.push(demo); saveMembers(list);
    }

    function exportMembers(){
      const json = JSON.stringify(getMembers(), null, 2);
      const blob = new Blob([json], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'varon_crew_members.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    }
    function clearMembers(){ if(confirm('Tüm üyeleri silmek istediğine emin misin?')){ localStorage.removeItem(STORAGE_KEY); renderMembers(); }}

    // Admin
    function loginAdmin(){
      const p = document.getElementById('adminPass').value;
      if(p==='admin123'){ document.getElementById('adminPanel').style.display='block'; alert('Admin girişi başarılı'); loadInfo(); } else alert('Şifre yanlış');
    }

    function addMemberFromAdmin(){
      const name = document.getElementById('mName').value.trim(); const role = document.getElementById('mRole').value.trim()||'member';
      if(!name) return alert('İsim gir');
      const list = getMembers(); list.push({name,role,ts:new Date().toISOString()}); saveMembers(list); document.getElementById('mName').value=''; document.getElementById('mRole').value='';
    }

    function saveServerInfo(){
      const ip = document.getElementById('srvIPInput').value.trim(); const disc = document.getElementById('srvDiscInput').value.trim();
      const info = {ip,disc}; localStorage.setItem(INFO_KEY, JSON.stringify(info)); loadInfo(); alert('Sunucu bilgileri kaydedildi');
    }
    function loadInfo(){
      const info = JSON.parse(localStorage.getItem(INFO_KEY) || '{}');
      document.getElementById('srvip').innerText = info.ip || 'Henüz ayarlanmadı';
      document.getElementById('srvdisc').innerText = info.disc || '#sunucu';
      document.getElementById('srvIPInput').value = info.ip||''; document.getElementById('srvDiscInput').value = info.disc||'';
      const ann = info.announce || '';
      if(ann) document.getElementById('announce').innerText = ann;
    }
    function saveAnn(){
      const a = document.getElementById('annInput').value.trim(); const info = JSON.parse(localStorage.getItem(INFO_KEY) || '{}'); info.announce = a; localStorage.setItem(INFO_KEY, JSON.stringify(info)); document.getElementById('announce').innerText = a; alert('Duyuru güncellendi'); document.getElementById('annInput').value='';
    }

    // small helpers
    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, function(c){return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]}); }
    function openApply(){ document.getElementById('apply').scrollIntoView({behavior:'smooth'}); }
    function openAdmin(){ document.getElementById('admin').scrollIntoView({behavior:'smooth'}); }

    // init demo
    (function(){
      if(!localStorage.getItem(STORAGE_KEY)){
        localStorage.setItem(STORAGE_KEY, JSON.stringify([
          {name:'Varon',role:'leader',reason:'Lideriyim, strateji uzmanıyım',ts:new Date().toISOString()},
          {name:'Kara',role:'soldier',reason:'Ateş gücü',ts:new Date().toISOString()},
          {name:'Rex',role:'driver',reason:'Araç kullanıyorum',ts:new Date().toISOString()}
        ]));
      }
      renderMembers(); loadInfo();
    })();
  </script>
</body>
</html>
